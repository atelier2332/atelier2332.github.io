{"version":3,"sources":["app.js"],"names":[],"mappings":"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","file":"app-compiled.js","sourcesContent":["var renderer, scene, camera;\nvar rings = [];\nvar pillar = null;\n\n/**\n*\n* @class RingOfGlory\n*\n* */\nclass RingOfGlory{\n    constructor(spline, speed){\n\n        this.spline = spline;\n        this.speed = speed;\n\n        this.tangent = new THREE.Vector3();\n        this.axis = new THREE.Vector3();\n        this.up = new THREE.Vector3(0, 1, 0);\n        this.counter = 0;\n\n        // RING\n\n        var geometry = new THREE.Geometry();\n        var splinePoints = spline.getPoints(150);\n        for(var i = 0; i < splinePoints.length; i++){\n            geometry.vertices.push(splinePoints[i]);\n        }\n\n        this.ring = new THREE.Line(geometry, new THREE.LineBasicMaterial({color: 0xB5865A}));\n\n        // VEHICLE\n\n        this.vehicle = new THREE.Mesh(\n            new THREE.CircleGeometry(5, 32),\n            new THREE.MeshBasicMaterial({\n                color: 0xB5865A,\n                side: THREE.DoubleSide\n            })\n        );\n\n        scene.add(this.ring);\n        scene.add(this.vehicle);\n    }\n\n    get vehicleRef(){\n        return this.vehicle;\n    }\n\n    render(){\n        if(this.counter <= 1){\n            this.vehicle.position.copy(this.spline.getPointAt(this.counter));\n            this.tangent = this.spline.getTangentAt(this.counter).normalize();\n            this.axis.crossVectors(this.up, this.tangent).normalize();\n            var radians = Math.acos(this.up.dot(this.tangent));\n            this.vehicle.quaternion.setFromAxisAngle(this.axis, radians);\n\n            this.counter += this.speed;\n        } else {\n            this.counter = 0;\n        }\n    }\n}\n\n/**\n*\n* @class PillarOfSolitude\n*\n* */\nclass PillarOfSolitude{\n    constructor(){\n        this.pillar = null;\n        var self = this;\n\n        var texture = new THREE.ImageUtils.loadTexture('img/pillar.png', undefined, function(e){\n\n            texture.minFilter = THREE.NearestFilter;\n\n            var material = new THREE.MeshLambertMaterial({\n                map: texture,\n                side: THREE.DoubleSide,\n                transparent: true\n            });\n\n            var geometry = new THREE.PlaneBufferGeometry(250, 250);\n\n            self.pillar = new THREE.Mesh(geometry, material);\n            self.pillar.position.x = 20;\n            self.pillar.position.y = 10;\n            self.pillar.rotation.x = 50;\n            self.pillar.rotation.y = 20;\n            self.pillar.rotation.z = 180;\n\n            scene.add(self.pillar);\n        });\n    }\n\n    render(){\n        if(this.pillar !== null){\n            this.pillar.rotation.y += 0.001;\n        }\n    }\n}\n\n/*\n*\n*\n*\n* */\nfunction init(){\n\n    /*\n    *\n    * SETUP\n    *\n    * */\n\n    // RENDERER\n\n    renderer = new THREE.WebGLRenderer({antialias: true});\n    renderer.setClearColor(0x0A0D61);\n    renderer.setSize(document.body.clientWidth, document.body.clientHeight);\n    document.getElementById('sculpture').appendChild(renderer.domElement);\n\n    // CAM\n\n    camera = new THREE.PerspectiveCamera(45, document.body.clientWidth / document.body.clientHeight, 1, 800);\n    camera.position.set(100, 0, 400);\n    camera.lookAt(new THREE.Vector3(80, 0, 0));\n\n    // SCENE\n\n    scene = new THREE.Scene();\n\n    // FOG\n\n    scene.fog = new THREE.Fog(0x0A0D61, 200, 500);\n\n    /*\n    *\n    * ADD OBJECTS\n    *\n    * */\n\n    // PILLAR\n\n    pillar = new PillarOfSolitude();\n\n    // RINGS\n\n    rings[0] = new RingOfGlory(new THREE.SplineCurve3([\n        new THREE.Vector3(0, 0, -100),\n        new THREE.Vector3(-150, 50, 0),\n        new THREE.Vector3(0, 100, 100),\n        new THREE.Vector3(150, -50, 0),\n        new THREE.Vector3(0, 0, -100)\n    ]), 0.002);\n\n    rings[1] = new RingOfGlory(new THREE.SplineCurve3([\n        new THREE.Vector3(0, -50, -100),\n        new THREE.Vector3(-100, 0, 0),\n        new THREE.Vector3(0, 0, 150),\n        new THREE.Vector3(150, 40, 0),\n        new THREE.Vector3(0, -50, -100)\n    ]), 0.004);\n\n    // LIGHT\n\n    var directionalLight = new THREE.DirectionalLight(0xffffff, 1);\n    directionalLight.position.set(50, 150, 150);\n    directionalLight.target = rings[0].vehicleRef;\n    scene.add(directionalLight);\n\n    animate();\n}\n\nfunction animate(){\n    requestAnimationFrame(animate);\n    render();\n}\n\nfunction render(){\n    for(var i = 0; i < rings.length; i++){\n        rings[i].render();\n    }\n    pillar.render();\n    renderer.render(scene, camera);\n}\n\ninit();"]}